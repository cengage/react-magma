---
pageTitle: Dropdown API
title: Dropdown
props:
  - DropdownProps
  - DropdownContentProps
  - DropdownHeaderProps
  - DropdownMenuGroupProps
  - DropdownMenuItemProps
  - DropdownButtonProps
  - DropdownSplitButtonProps
---

import { ScopeableLayout } from '../../components/layout';
import { AsteriskIcon, BellIcon, Cog2Icon, MenuIcon } from 'react-magma-icons';

import {
  Alert,
  Button,
  Checkbox,
  Dropdown,
  DropdownContent,
  DropdownDivider,
  DropdownHeader,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownSplitButton,
  DropdownButton,
  Input,
  PasswordInput,
  magma,
  Modal,
} from 'react-magma-dom';
import { DocsHeading } from '../../components/DocsHeading';
import { Link } from 'gatsby';
import { ButtonProps } from '../../components/ButtonProps';
import { IconButtonProps } from '../../components/IconButtonProps';

<DocsHeading to="/design/dropdown/" type="api">
  Dropdown
</DocsHeading>

## Basic Usage

The `Dropdown` component should contain two children: the `DropdownButton` component, and the `DropdownContent` component.

The `DropdownButton` is a button that handles the opening and closing of the menu.

The `DropdownContent` component contains the content that appears when the button is clicked. That content may contain individual menu items, represented in `DropdownMenuItem` components, or it may contain other markup.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  return (
    <Dropdown>
      <DropdownButton>Basic Dropdown</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem>Menu item 1</DropdownMenuItem>
        <DropdownMenuItem>Menu item number two</DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Split Button

Instead of using the `DropdownButton`, a `DropdownSplitButton` can be used instead. When using this, the larger part of the button will accept an `onClick` event, and only the caret icon will open and close the menu.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownContent,
  DropdownMenuItem,
  DropdownSplitButton,
} from 'react-magma-dom';

export function Example() {
  function handleSplitButtonClick() {
    alert('Button Clicked!');
  }

  return (
    <Dropdown>
      <DropdownSplitButton onClick={handleSplitButtonClick}>
        Split Button
      </DropdownSplitButton>
      <DropdownContent>
        <DropdownMenuItem>Menu item 1</DropdownMenuItem>
        <DropdownMenuItem>Menu item number two</DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Drop Direction

Using the `dropDirection` prop will change where the menu appears. Options are `down` and `up`, with `down` being default.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownDropDirection,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  return (
    <>
      <Dropdown dropDirection={DropdownDropDirection.left}>
        <DropdownButton>Drop Left</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
      <Dropdown dropDirection={DropdownDropDirection.up}>
        <DropdownButton>Drop Up</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
      <Dropdown dropDirection={DropdownDropDirection.right}>
        <DropdownButton>Drop Right</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
    </>
  );
}
```

## Alignment

Using the `alignment` prop will set the alignment of the content in relationship to the button.

The default value is `start`, meaning that a drop-down or a drop-up, will have the dropdown content aligned to the left side of the button,
and a drop-left or a drop-right will have the content aligned to the top of the button.

The other option is `end`, meaning that a drop-down or a drop-up, will have the dropdown content aligned to the right side of the button,
and a drop-left or a drop-right will have the content aligned to the bottom of the button.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownAlignment,
  DropdownButton,
  DropdownContent,
  DropdownDropDirection,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  return (
    <>
      <Dropdown
        alignment={DropdownAlignment.end}
        dropDirection={DropdownDropDirection.left}
      >
        <DropdownButton>Top-Aligned Drop Left</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>

      <Dropdown
        alignment={DropdownAlignment.end}
        dropDirection={DropdownDropDirection.right}
      >
        <DropdownButton>Top-Aligned Drop Right</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>

      <br />

      <Dropdown
        alignment={DropdownAlignment.end}
        dropDirection={DropdownDropDirection.down}
      >
        <DropdownButton>Right-Aligned Drop Down</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>

      <Dropdown
        alignment={DropdownAlignment.end}
        dropDirection={DropdownDropDirection.up}
      >
        <DropdownButton>Right-Aligned Drop Up</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
    </>
  );
}
```

## Fixed Width

By default, the dropdown content will be as wide as the largest item. However, you may limit the width using the `width` prop, in which case items will wrap if needed.
The `width` prop can either be a string or a number. If a number is provided, then pixels will be used for the unit.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  return (
    <Dropdown width="250px">
      <DropdownButton>Fixed Width</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla tellus
          turpis, finibus et bibendum eget, rhoncus ut risus. Proin nec nisi ut
          eros aliquam interdum.
        </DropdownMenuItem>
        <DropdownMenuItem>
          Nunc egestas ullamcorper finibus. Phasellus non risus id mauris
          dignissim molestie in sit amet enim. In condimentum fringilla sodales.
        </DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Max-Height

By default, the max-height of the dropdown content is 250px. That can be changed by using the `maxHeight` prop.
The `maxHeight` prop can either be a string or a number. If a number is provided, then pixels will be used for the unit.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  return (
    <Dropdown maxHeight="150px">
      <DropdownButton>Max-Height</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem>Menu item 1</DropdownMenuItem>
        <DropdownMenuItem>Menu item 2</DropdownMenuItem>
        <DropdownMenuItem>Menu item 3</DropdownMenuItem>
        <DropdownMenuItem>Menu item 4</DropdownMenuItem>
        <DropdownMenuItem>Menu item 5</DropdownMenuItem>
        <DropdownMenuItem>Menu item 6</DropdownMenuItem>
        <DropdownMenuItem>Menu item 7</DropdownMenuItem>
        <DropdownMenuItem>Menu item 8</DropdownMenuItem>
        <DropdownMenuItem>Menu item 9</DropdownMenuItem>
        <DropdownMenuItem>Menu item 10</DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## DropdownMenuItem

The `DropdownMenuItem` component can be used within the `DropdownContent` to indicate individual menu items, which will render as buttons.
The items accept an `onClick` event. The `disabled` prop can be used on an item to disable that action. These items can be navigated by using the up and down arrow keys.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  function handleMenuItem1Click() {
    alert('Item 1 clicked');
  }

  function handleMenuItem2Click() {
    alert('Item 2 clicked');
  }

  function handleMenuItem3Click() {
    alert('Item 3 clicked');
  }

  return (
    <Dropdown>
      <DropdownButton>Dropdown Menu Items</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem onClick={handleMenuItem1Click}>
          Menu item 1
        </DropdownMenuItem>
        <DropdownMenuItem disabled onClick={handleMenuItem2Click}>
          Menu item 2
        </DropdownMenuItem>
        <DropdownMenuItem onClick={handleMenuItem3Click}>
          Menu item 3
        </DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Custom DropdownMenuItem Wrappers

`DropdownContent` expects its children to be of type `DropdownMenuItem`, be an element in which its lowest child is of type `DropdownMenuItem`, or a custom component
that returns a `DropdownMenuItem`.

For a custom component you'll receive a `dropdownMenuItemProps` prop that you must spread in to the `DropdownMenuItem` component in your renderer.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  const OptionalDropdownMenuItem = ({ toggle, dropdownMenuItemProps }) => {
    return toggle ? (
      <DropdownMenuItem {...dropdownMenuItemProps}>
        Hello There
      </DropdownMenuItem>
    ) : null;
  };

  function handleMenuItem1Click() {
    alert('Item 1 clicked');
  }

  function handleMenuItem2Click() {
    alert('Item 2 clicked');
  }

  function handleMenuItem3Click() {
    alert('Item 3 clicked');
  }

  return (
    <Dropdown>
      <DropdownButton>Dropdown Menu Items</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem onClick={handleMenuItem1Click}>
          Menu item 1
        </DropdownMenuItem>
        <OptionalDropdownMenuItem toggle onClick={handleMenuItem2Click}>
          Menu item 2
        </OptionalDropdownMenuItem>
        <div>
          <DropdownMenuItem onClick={handleMenuItem3Click}>
            Menu item 3
          </DropdownMenuItem>
        </div>
      </DropdownContent>
    </Dropdown>
  );
}
```

### Leading Icons

The `icon` prop can be used to specify an icon for the `DropdownMenuItem` elements.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';
import { AsteriskIcon, BellIcon } from 'react-magma-icons';

export function Example() {
  return (
    <Dropdown>
      <DropdownButton>Leading Icons</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem icon={<AsteriskIcon />}>Menu item 1</DropdownMenuItem>
        <DropdownMenuItem icon={<BellIcon />}>Menu item 2</DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Dropdown with Form

Dropdowns can contain elements other than `DropdownMenuItem` components.
The following examples include form elements, styled with inline styles including variables from the Magma theme.

While users may navigate between `DropdownMenuItem` components using up and down arrow keys,
browser default keyboard behavior applies to other content.

```tsx codesandbox=magma
import React from 'react';
import {
  Button,
  Checkbox,
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownDivider,
  DropdownHeader,
  DropdownMenuItem,
  Input,
  magma,
  PasswordInput,
} from 'react-magma-dom';

export function Example() {
  return (
    <>
      <Dropdown width="300px">
        <DropdownButton>Dropdown with Login Form</DropdownButton>
        <DropdownContent>
          <form style={{ margin: 0, padding: magma.spaceScale.spacing05 }}>
            <Input type="email" labelText="Email Address" />
            <PasswordInput labelText="Password" />
            <div style={{ textAlign: 'center' }}>
              <p>
                By signing in, you agree to our <a href="#">Terms of use</a>.
              </p>
              <Button isFullWidth>Sign In</Button>
              <p>
                <a>Forgot password?</a>
              </p>
            </div>
          </form>
          <DropdownDivider />
          <div
            style={{ textAlign: 'center', padding: magma.spaceScale.spacing05 }}
          >
            <p>
              Don't have an account?
              <br />
              <a href="#">Register today!</a>
            </p>
          </div>
        </DropdownContent>
      </Dropdown>
      <Dropdown width="300px">
        <DropdownButton>Dropdown with Form 2</DropdownButton>
        <DropdownContent>
          <DropdownHeader id="checkboxGroup">
            Checkbox Group Label
          </DropdownHeader>
          <form
            style={{
              color: magma.colors.neutral03,
              margin: 0,
              paddingLeft: magma.spaceScale.spacing05,
              paddingRight: magma.spaceScale.spacing05,
            }}
          >
            <div role="group" aria-labelledby="checkboxGroup">
              <Checkbox labelText="Option 1" />
              <Checkbox labelText="Option 2" />
              <Checkbox labelText="Option 3" />
            </div>
          </form>
        </DropdownContent>
      </Dropdown>
    </>
  );
}
```

## Custom Button

Both the `DropdownButton` and `DropdownSplitButton`can be customized by using any of the props that the <Link to="/api/button">Button</Link> component accepts. If no`icon`property is provided to the`DropdownButton`, the caret icon will appear.

```tsx codesandbox=magma
import React from 'react';
import {
  ButtonColor,
  ButtonSize,
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
  DropdownSplitButton,
} from 'react-magma-dom';

export function Example() {
  return (
    <>
      <Dropdown>
        <DropdownButton size={ButtonSize.small} color={ButtonColor.marketing}>
          Extra Props Example 1
        </DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
      <Dropdown>
        <DropdownSplitButton
          size={ButtonSize.large}
          variant="outline"
          color={ButtonColor.danger}
        >
          Extra Props Split
        </DropdownSplitButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
    </>
  );
}
```

## Custom Icon Button

Similarly, the `DropdownButton` can be customized by using any of the props that the <Link to="/api/icon-button">Icon Button</Link> component accepts, to create a button with an icon.

```tsx codesandbox=magma
import React from 'react';
import {
  ButtonColor,
  ButtonIconPosition,
  ButtonSize,
  ButtonVariant,
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';
import { Cog2Icon, MenuIcon } from 'react-magma-icons';

export function Example() {
  return (
    <>
      <Dropdown>
        <DropdownButton
          aria-label="Extra icon example"
          color={ButtonColor.secondary}
          size={ButtonSize.large}
          variant={ButtonVariant.link}
          icon={<Cog2Icon />}
        />
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
      <Dropdown>
        <DropdownButton
          aria-label="Extra icon example"
          color={ButtonColor.success}
          size={ButtonSize.large}
          icon={<MenuIcon />}
        />
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
      <Dropdown>
        <DropdownButton
          variant={ButtonVariant.outline}
          size={ButtonSize.small}
          iconPosition={ButtonIconPosition.right}
          icon={<Cog2Icon />}
        >
          Icon Right with Text
        </DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
      <Dropdown>
        <DropdownButton
          variant={ButtonVariant.outline}
          size={ButtonSize.small}
          iconPosition={ButtonIconPosition.left}
          icon={<Cog2Icon />}
        >
          Icon Left with Text
        </DropdownButton>
        <DropdownContent>
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item number two</DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
    </>
  );
}
```

## Breaking a Menu Into Groups

A `DropdownMenu` can be broken into multiple groups, by using the `DropdownMenuGroup` and `DropdownDivider` components.

The `DropdownMenuGroup` component accepts a `header` prop to be used to describe the group. The menu group `div`
will be given a `role` of `group` and an `aria-labelledbyId` that corresponds with the header made internally.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownDivider,
  DropdownMenuGroup,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  return (
    <Dropdown>
      <DropdownButton>Divider and headings</DropdownButton>
      <DropdownContent>
        <DropdownMenuGroup header="Section title A">
          <DropdownMenuItem>Menu item 1</DropdownMenuItem>
          <DropdownMenuItem>Menu item 2</DropdownMenuItem>
        </DropdownMenuGroup>
        <DropdownDivider />
        <DropdownMenuGroup header="Section title B">
          <DropdownMenuItem>Menu item 3</DropdownMenuItem>
          <DropdownMenuItem>Menu item 4</DropdownMenuItem>
        </DropdownMenuGroup>
        <DropdownDivider />
        <DropdownMenuGroup>
          <DropdownMenuItem>Log out</DropdownMenuItem>
        </DropdownMenuGroup>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Active Item Index

The `activeIndex` prop can be used to set an item within the dropdown as active.
When another item is selected, that item will become active and the menu will remain open, rather than closing as usual.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  const [activeValue, setActiveValue] = React.useState<string>('two');

  function changeActiveValue(value: string) {
    setActiveValue(value);
  }

  return (
    <>
      <p>
        <strong>Active Value: </strong> <span>{activeValue}</span>
      </p>
      <Dropdown activeIndex={1}>
        <DropdownButton>Selected Item</DropdownButton>
        <DropdownContent>
          <DropdownMenuItem onClick={changeActiveValue} value="one">
            Dropdown Item 1
          </DropdownMenuItem>
          <DropdownMenuItem onClick={changeActiveValue} value="two">
            Dropdown Item 2
          </DropdownMenuItem>
          <DropdownMenuItem onClick={changeActiveValue} value="three">
            Dropdown Item 3
          </DropdownMenuItem>
        </DropdownContent>
      </Dropdown>
    </>
  );
}
```

## Handle Focus on Close

By default the consumer is expected to handle the focusing of elements when items are clicked. If there is no new element to focus on item click
you should focus the trigger button on closing of the dropdown. For this you can use a `ref` passed to the `DropdownButton` or `DropdownSplitButton` and focus that ref in
the `onClose` function passed to the `Dropdown` component.

```tsx codesandbox=magma
import React from 'react';
import {
  Dropdown,
  DropdownButton,
  DropdownContent,
  DropdownMenuItem,
} from 'react-magma-dom';

export function Example() {
  const buttonRef = React.useRef<HTMLButtonElement>();

  function handleClose(event: React.SyntheticEvent) {
    buttonRef.current.focus();
  }

  return (
    <Dropdown onClose={handleClose}>
      <DropdownButton ref={buttonRef}>Basic Dropdown</DropdownButton>
      <DropdownContent>
        <DropdownMenuItem>Menu item 1</DropdownMenuItem>
        <DropdownMenuItem>Menu item number two</DropdownMenuItem>
      </DropdownContent>
    </Dropdown>
  );
}
```

## Prevent Default Focus Handling - Deprecated

<Alert variant="warning">This functionality has been deprecated.</Alert>

Originally by default when the `dropdown` closed we put focus on the button that triggered the opening of the `dropdown`.
To remove the auto-focusing on close you would pass in a function named `onBeforeShiftFocus` in which you would call the `preventMagmaFocus` function on the `event`.
This caused a bug when another element was supposed to be focused the focus would be forced back on to the trigger button if you did not put in this workaround.
To fix this we have deprecated the workaround and the default now is to allow the consumer to handle the focusing of elements.
If your dropdown items do not trigger an event that changes the focus, you should make sure to put the focus back the correct element
as seen in this [example of focusing the trigger button on closing of the dropdown](/api/dropdown/#handle_focus_on_close).

## Dropdown Props

**Any other props supplied will be provided to the wrapping `div` element.**

<DropdownProps />

## Dropdown Content Props

**Props supplied will be provided to the wrapping `div` element.**

Examples may include an id, a title, event handlers or various aria attributes. It is unlikely that it will be necessary to provide additional props.

<DropdownContentProps />

## Dropdown Header Props

**Any other props supplied will be provided to the wrapping `div` element.**

<DropdownHeaderProps />

## Dropdown Menu Group

**Any other props supplied will be provided to the wrapping `div` element.**

<DropdownMenuGroupProps />

## Dropdown Menu Item

**Any other props supplied will be provided to the wrapping `li` element.**

<DropdownMenuItemProps />

## Dropdown Button Props

**DropdownButton and the DropdownSplitButton accept the same props as the <Link to="/api/button">Button</Link> component.**

<ButtonProps />
<br />

**The DropdownButton can also accept an `icon` property, as in the <Link to="/api/icon-button">Icon Button</Link> component.**

<IconButtonProps />

export default props => <ScopeableLayout {...props} />;
